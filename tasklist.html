<html><style>*{font-family:sans-serif;}body{margin:0;}button{border:0.2em;height:2em;width:2em;background:cornflowerblue}button:hover:not(:disabled){background:royalblue;}.active{background:lightblue;}.active>.taskChildren{background:lightcyan}.collapseBtn{background:inherit}.collapseBtn:hover:not(:disabled){background:lightblue}.active .collapseBtn:hover:not(:disabled){background:cornflowerblue}.namebox{margin:0 1em}.nameeditor{margin:0 1em}#toolbar{background:cornflowerblue;padding:0.5em 0 0.5em;}#saveBtn{text-decoration:none;color:white;padding:0.5em}#saveBtn:hover{background:royalblue;}#taskList{margin-top:0.5em}#help{position:fixed;display:none;right:0;border:royalblue 2px solid;background:lightcyan;padding:0.3em}#helpTable{font-size:0.8em;}#helpTable td{padding:0.3em;}</style><body><div id="toolbar"><a id="saveBtn" href="#">Save this tasklist</a><span style="float:right;color:white;font-style:italic">Press H for keyboard shortcuts</span></div><div id="help"><div style="text-align:center">Keyboard shortcuts:</div><table id="helpTable"><tr><td>&#x1f80a;</td><td>Expand subtasks</td><td>Shift+&#x1f80a;</td><td>Go to parent task's next task</td><td>Ctrl+&#x1f80a;</td><td>Expand all tasks</td></tr><tr><td>&#x1f808;</td><td>Collapse subtasks</td><td>Shift+&#x1f808;</td><td>Go to parent task</td><td>Ctrl+&#x1f808;</td><td>Collapse parent task</td></tr><tr><td>&#x1f809;</td><td>Move up the task list</td><td>Shift+&#x1f809;</td><td>Go to previous sibling</td><td>Ctrl+&#x1f809;</td><td>Move to the top</td></tr><tr><td>&#x1f80b;</td><td>Move down the task list</td><td>Shift+&#x1f80b;</td><td>Go to next sibling</td><td>Ctrl+&#x1f80b;</td><td>Move to the bottom</td></tr><tr><td>Enter</td><td>Mark/Unmark task</td><td>Shift + Enter</td><td>Rename task</td><td></td><td></td></tr><tr><td>Space</td><td>Create subtask</td><td>Shift + Space</td><td>Create subtask (stay in current task)</td><td>Ctrl + Space</td><td>Remove task</td></tr></table></div><div id="taskList"><div class="task active" id="root" data-level=0><button disabled>&#x2716;</button><button class="newTaskBtn">&#x271A;</button><input class="check" type="checkbox" data-state="false"></input><span class="nameBox">[Click here to rename!]</span><input class="nameEditor" style="display:none";></input><button class="collapseBtn" data-state="shown" disabled>&#x25B2;</button><div class="taskChildren"></div></div></div></body><script>var editingName=false, helpShown=false;const I_CHK=2, I_NBX=3, I_NED=4, I_NTB=1, I_CBT=5, I_RBT=0, I_CHL=6;function isMobileDevice() {return (typeof window.orientation !== "undefined") || (navigator.userAgent.indexOf('IEMobile') !== -1);};function lastSubtaskOf(task){return task.children[I_CHL].children[task.children[I_CHL].children.length-1];};function findPrevTask(){active=document.getElementsByClassName("active")[0];prevSib=active.previousElementSiblingif (prevSib==null) return active.parentElement.parentElement;else if (prevSib.children[I_CHL].children.length>0 && prevSib.children[I_CBT].dataset.state=="shown"){while(prevSib.children[I_CHL].children.length>0 && prevSib.children[I_CBT].dataset.state=="shown")prevSib=lastSubtaskOf(prevSib);return prevSib;}else return active.previousElementSibling;}function findNextTask(){if(active.children[I_CHL].children.length>0 && active.children[I_CBT].dataset.state=="shown")return active.children[I_CHL].children[0];else if (active.nextElementSibling==null){ancestor=active;while(ancestor.nextElementSibling==null){ancestor=ancestor.parentElement.parentElement;if(ancestor.dataset.level==0) return;}return ancestor.nextElementSibling;}else return active.nextElementSibling;}function setActive(t){document.getElementsByClassName("active")[0].classList.remove("active");t.classList.add("active");}chkFunc=function(self){t=self.parentElement;t.children[I_CHK].dataset.state=JSON.parse(t.children[I_CHK].checked);setActive(t);};nbFunc=function(self){t=self.parentElement;t.children[I_NBX].style.display="none";t.children[I_NED].style.display="inline";t.children[I_NED].focus();editingName=true;setActive(t);};neFunc=function(self){t=self.parentElement;t.children[I_NBX].innerText=t.children[I_NED].value==""?"[Click here to rename!]":t.children[I_NED].value;t.children[I_NBX].style.display="inline";t.children[I_NED].style.display="none";editingName=false;setActive(t);};ntbFunc=function(self,setActive=true){t=self.parentElement;newT=document.createElement("div");newT.className="task";newT.dataset.level=parseInt(t.dataset.level)+1;t.children[I_CHL].appendChild(newT);newrm=document.createElement("button");newrm.className="removeBtn";newrm.innerHTML="\u2716";newT.appendChild(newrm);newntb=document.createElement("button");newntb.className="newTaskBtn";newntb.innerHTML="\u271A"newT.appendChild(newntb);newchk=document.createElement("input");newchk.type="checkbox";newchk.className="check";newchk.dataset.state="false";newchk.style.marginRight=parseInt(newT.dataset.level)+"EM";newT.appendChild(newchk);newnb=document.createElement("span");newnb.className="nameBox";newnb.innerText="[Click here to rename!]";newT.appendChild(newnb);newne=document.createElement("input");newne.className="nameEditor";newne.style.display="none";newT.appendChild(newne);newcb=document.createElement("button");newcb.className="collapseBtn";newcb.dataset.state="shown";newcb.disabled=true;newcb.innerHTML="\u25B2";newT.appendChild(newcb);newch=document.createElement("div");newch.className="taskChildren";newT.appendChild(newch);newchk.addEventListener("click",function(){chkFunc(this)});newnb.addEventListener("click",function(){nbFunc(this)});newne.addEventListener("change",function(){neFunc(this)});if(!isMobileDevice())newne.addEventListener("focusout",function(){neFunc(this)});newntb.addEventListener("click",function(){ntbFunc(this)});newcb.addEventListener("click",function(){cbFunc(this)});newrm.addEventListener("click",function(){rmFunc(this)});t.children[I_CBT].disabled=false;if(setActive)nbFunc(newT.children[I_NTB]);};cbFunc=function(self){t=self.parentElement;if(t.children[I_CBT].dataset.state=="shown"){t.children[I_CBT].dataset.state="hidden";t.children[I_CHL].style.display="none";t.children[I_CBT].innerText="\u25BC";} else {t.children[I_CBT].dataset.state="shown";t.children[I_CHL].style.display="block";t.children[I_CBT].innerText="\u25B2";}setActive(t);};rmFunc=function(self){t=self.parentElement;if(t.dataset.level>0)if(t.children[I_CHL].children.length>0)if(!confirm("This task has subtasks. Remove?"))return false;if(t.parentElement.parentElement.children[I_CHL].children.length==1)t.parentElement.parentElement.children[I_CBT].disabled=true;t.remove();return true;setActive(t);return false;};document.onkeydown=function(e){if(!editingName){document.activeElement.blur();active=document.getElementsByClassName("active")[0];var newActive;switch(e.key){case "ArrowUp":if(e.ctrlKey){newActive=document.getElementById("root");}else if(e.shiftKey){newActive=active.previousElementSibling;} else {newActive=findPrevTask();}break;case "ArrowDown":if(e.ctrlKey){newActive=document.getElementById("root");while (newActive.children[I_CHL].children.length>0 && newActive.children[I_CBT].dataset.state=="shown")newActive=lastSubtaskOf(newActive);}else if(e.shiftKey){newActive=active.nextElementSibling;} else {newActive=findNextTask();}break;case "ArrowRight":if(e.ctrlKey){for(cb of document.getElementsByClassName("collapseBtn")){cb.dataset.state="hidden";cbFunc(cb);}}else if(e.shiftKey){newActive=active.parentElement.parentElement.nextElementSibling;} else {if(!active.children[I_CBT].disabled){active.children[I_CBT].dataset.state="hidden";cbFunc(active.children[0])}}break;case "ArrowLeft":if(e.ctrlKey){if(active.dataset.level!=0){newActive=active.parentElement.parentElement;newActive.children[I_CBT].dataset.state="shown";cbFunc(active.parentElement);}}else if(e.shiftKey){newActive=active.parentElement.parentElement;} else {if(!active.children[I_CBT].disabled){active.children[I_CBT].dataset.state="shown";cbFunc(active.children[0])}}break;case "Enter":if(e.shiftKey){nbFunc(active.children[I_NBX]);} else {active.children[I_CHK].checked=!JSON.parse(active.children[I_CHK].checked);chkFunc(active.children[I_CHK]);}break;case " ":if(e.ctrlKey){newActive=findPrevTask();if(!rmFunc(active.children[I_RBT])) return;newActive.classList.add("active");return;}else{ntbFunc(active.children[I_NTB],!e.shiftKey);}break;case "h":case "H":document.getElementById("help").style.display=document.getElementById("help").style.display=="block"?"none":"block";break;}if (newActive==null) return;if(newActive.classList.contains("task")){setActive(newActive);}}};window.onload=function(){saveBtn=document.getElementById("saveBtn");saveBtn.onclick=function(){filename=prompt("Save as?");if(filename==null)return;saveBtn.download=filename+".html";this.href="data:text/html;charset=UTF-8,"+encodeURIComponent(document.documentElement.outerHTML);filename=null;};for(task of document.getElementsByClassName("task")){task.children[I_CHK].addEventListener("click",function(){chkFunc(this)});task.children[I_CHK].checked=JSON.parse(task.children[I_CHK].dataset.state);task.children[I_NBX].addEventListener("click",function(){nbFunc(this)});task.children[I_NED].value=task.children[I_NBX].innerText;task.children[I_NED].addEventListener("change",function(){neFunc(this)});if(!isMobileDevice())task.children[I_NED].addEventListener("focusout",function(){neFunc(this)});task.children[I_NTB].addEventListener("click",function(){ntbFunc(this)});task.children[I_CBT].addEventListener("click",function(){cbFunc(this)});task.children[I_RBT].addEventListener("click",function(){rmFunc(this)});};};</script></html>